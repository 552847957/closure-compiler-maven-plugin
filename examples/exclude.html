<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at May 22, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Minify Maven Plugin - Exclude source files from WAR package</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
      <meta name="author" content="Samuel Santos" />
    <meta name="Date-Creation-yyyymmdd" content="20111109" />
    <meta name="Date-Revision-yyyymmdd" content="20120522" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Minify Maven Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-05-22</span>
                  &nbsp;| <span id="projectVersion">Version: 1.4</span>
                      </div>
            <div class="xright">        
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="../usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="../faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="../examples/basic.html" title="Basic Configuration">Basic Configuration</a>
            </li>
                  <li class="none">
                          <a href="../examples/ordering.html" title="Lexicographical ordering (exclude/include patterns)">Lexicographical ordering (exclude/include patterns)</a>
            </li>
                  <li class="none">
            <strong>Exclude source files from WAR package</strong>
          </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Exclude source files from WAR package<a name="Exclude_source_files_from_WAR_package"></a></h2><p>Sometimes we need to exclude the original source files from the final WAR package.</p><p>A possible scenario is when you do not want to make them publicly available via your site for security reasons, or simply want to include only the minified (obfuscated) file resulting from the Minify Maven Plugin execution.</p><p>This example shows how that can be done.</p><div class="section"><h3>Configure Maven WAR Plugin<a name="Configure_Maven_WAR_Plugin"></a></h3><p>Use the following configuration in your <tt>pom.xml</tt> plugin section to exclude source files from the WAR package.</p><div class="source"><pre>&lt;project&gt;
  [...]
  &lt;build&gt;
    &lt;plugins&gt;
      [...]
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;configuration&gt;
          &lt;warSourceExcludes&gt;**/file-1.css,[...],**/file-n.css,**/file-1.js,[...],**/file-n.js&lt;/warSourceExcludes&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      [...]
      &lt;plugin&gt;
        &lt;groupId&gt;com.samaxes.maven&lt;/groupId&gt;
        &lt;artifactId&gt;minify-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.4&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;default-minify&lt;/id&gt;
            &lt;phase&gt;process-resources&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;cssSourceFiles&gt;
                &lt;cssSourceFile&gt;file-1.css&lt;/cssSourceFile&gt;
                [...]
                &lt;cssSourceFile&gt;file-n.css&lt;/cssSourceFile&gt;
              &lt;/cssSourceFiles&gt;
              &lt;jsSourceFiles&gt;
                &lt;jsSourceFile&gt;file-1.js&lt;/jsSourceFile&gt;
                [...]
                &lt;jsSourceFile&gt;file-n.js&lt;/jsSourceFile&gt;
              &lt;/jsSourceFiles&gt;
            &lt;/configuration&gt;
            &lt;goals&gt;
              &lt;goal&gt;minify&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      [...]
    &lt;/plugins&gt;
  &lt;/build&gt;
  [...]
&lt;/project&gt;
</pre></div></div><div class="section"><h3>Invoke from the command-line<a name="Invoke_from_the_command-line"></a></h3><p>Only merged and minified files will be included in your package.</p><div class="source"><pre>mvn package
</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2009-2012
                        <a href="http://www.samaxes.com/">samaxes</a>.
            All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
